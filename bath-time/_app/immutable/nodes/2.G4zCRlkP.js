import"../chunks/CWj6FrbW.js";import{i as le}from"../chunks/B7rsDwwN.js";import{ae as he,q as me,A as W,v as E,ai as be,w as ye,g as u,T as P,x as Ae,y as Ee,z as X,B as Y,G as $,ag as Ie,al as Se,C as oe,D as ce,F as Te,aA as z,ap as ve,ac as Z,aB as Me,O as V,aC as ee,ad as Ne,aD as we,aE as Ce,ao as xe,aF as De,aG as ke,aH as Le,aI as Oe,ah as Re,aJ as je,aK as qe,aL as He,aM as Pe,p as fe,P as q,aN as B,aO as J,e as T,aP as ue,i as j,l as x,o as O,m as C,t as H,b as k,j as R,k as de,n as $e,aQ as Be}from"../chunks/DbRVWSp5.js";import{o as Ue,c as Ve,b as Fe,s as ae,d as Ge,e as K,w as We}from"../chunks/Bik8Ni9A.js";import{p as U,i as F,b as Ye,s as ze,a as Ke}from"../chunks/CSCe4xgZ.js";function Je(t,e){return e}function Qe(t,e,a,i){for(var r=[],s=e.length,l=0;l<s;l++)Ce(e[l].e,r,!0);var p=s>0&&r.length===0&&a!==null;if(p){var v=a.parentNode;xe(v),v.append(a),i.clear(),D(t,e[0].prev,e[s-1].next)}De(r,()=>{for(var f=0;f<s;f++){var n=e[f];p||(i.delete(n.k),D(t,n.prev,n.next)),ke(n.e,!p)}})}function Xe(t,e,a,i,r,s=null){var l=t,p={flags:e,items:new Map,first:null};{var v=t;l=E?W(be(v)):v.appendChild(he())}E&&ye();var f=null,n=!1,m=P(()=>{var o=a();return Ne(o)?o:o==null?[]:ve(o)});me(()=>{var o=u(m),h=o.length;if(n&&h===0)return;n=h===0;let d=!1;if(E){var I=Ae(l)===Ee;I!==(h===0)&&(l=X(),W(l),Y(!1),d=!0)}if(E){for(var y=null,g,c=0;c<h;c++){if($.nodeType===Ie&&$.data===Se){l=$,d=!0,Y(!1);break}var A=o[c],b=i(A,c);g=pe($,p,y,null,A,b,c,r,e,a),p.items.set(b,g),y=g}h>0&&W(X())}E||Ze(o,p,l,r,e,i,a),s!==null&&(h===0?f?oe(f):f=ce(()=>s(l)):f!==null&&Te(f,()=>{f=null})),d&&Y(!0),u(m)}),E&&(l=$)}function Ze(t,e,a,i,r,s,l){var p=t.length,v=e.items,f=e.first,n=f,m,o=null,h=[],d=[],I,y,g,c;for(c=0;c<p;c+=1){if(I=t[c],y=s(I,c),g=v.get(y),g===void 0){var A=n?n.e.nodes_start:a;o=pe(A,e,o,o===null?e.first:o.next,I,y,c,i,r,l),v.set(y,o),h=[],d=[],n=o.next;continue}if(ea(g,I,c),(g.e.f&z)!==0&&oe(g.e),g!==n){if(m!==void 0&&m.has(g)){if(h.length<d.length){var b=d[0],_;o=b.prev;var S=h[0],M=h[h.length-1];for(_=0;_<h.length;_+=1)te(h[_],b,a);for(_=0;_<d.length;_+=1)m.delete(d[_]);D(e,S.prev,M.next),D(e,o,S),D(e,M,b),n=b,o=M,c-=1,h=[],d=[]}else m.delete(g),te(g,n,a),D(e,g.prev,g.next),D(e,g,o===null?e.first:o.next),D(e,o,g),o=g;continue}for(h=[],d=[];n!==null&&n.k!==y;)(n.e.f&z)===0&&(m??(m=new Set)).add(n),d.push(n),n=n.next;if(n===null)continue;g=n}h.push(g),o=g,n=g.next}if(n!==null||m!==void 0){for(var N=m===void 0?[]:ve(m);n!==null;)(n.e.f&z)===0&&N.push(n),n=n.next;var w=N.length;if(w>0){var L=p===0?a:null;Qe(e,N,L,v)}}Z.first=e.first&&e.first.e,Z.last=o&&o.e}function ea(t,e,a,i){Me(t.v,e),t.i=a}function pe(t,e,a,i,r,s,l,p,v,f){var n=(v&Le)!==0,m=(v&Oe)===0,o=n?m?V(r,!1,!1):ee(r):r,h=(v&we)===0?l:ee(l),d={i:h,v:o,k:s,a:null,e:null,prev:a,next:i};try{return d.e=ce(()=>p(t,o,h,f),E),d.e.prev=a&&a.e,d.e.next=i&&i.e,a===null?e.first=d:(a.next=d,a.e.next=d.e),i!==null&&(i.prev=d,i.e.prev=d.e),d}finally{}}function te(t,e,a){for(var i=t.next?t.next.e.nodes_start:a,r=e?e.e.nodes_start:a,s=t.e.nodes_start;s!==i;){var l=Re(s);r.before(s),s=l}}function D(t,e,a){e===null?t.first=a:(e.next=a,e.e.next=a&&a.e),a!==null&&(a.prev=e,a.e.prev=e&&e.e)}const re=[...` 	
\r\fÂ \v\uFEFF`];function aa(t,e,a){var i=t==null?"":""+t;if(a){for(var r in a)if(a[r])i=i?i+" "+r:r;else if(i.length)for(var s=r.length,l=0;(l=i.indexOf(r,l))>=0;){var p=l+s;(l===0||re.includes(i[l-1]))&&(p===i.length||re.includes(i[p]))?i=(l===0?"":i.substring(0,l))+i.substring(p+1):l=p}}return i===""?null:i}function ta(t,e){return t==null?null:String(t)}function Q(t,e,a,i,r,s){var l=t.__className;if(E||l!==a||l===void 0){var p=aa(a,i,s);(!E||p!==t.getAttribute("class"))&&(p==null?t.removeAttribute("class"):t.className=p),t.__className=a}else if(s&&r!==s)for(var v in s){var f=!!s[v];(r==null||f!==!!r[v])&&t.classList.toggle(v,f)}return s}function ra(t,e,a,i){var r=t.__style;if(E||r!==e){var s=ta(e);(!E||s!==t.getAttribute("style"))&&(s==null?t.removeAttribute("style"):t.style.cssText=s),t.__style=e}return i}const sa=Symbol("is custom element"),ia=Symbol("is html");function se(t,e,a,i){var r=na(t);E&&(r[e]=t.getAttribute(e),e==="src"||e==="srcset"||e==="href"&&t.nodeName==="LINK")||r[e]!==(r[e]=a)&&(e==="loading"&&(t[je]=a),a==null?t.removeAttribute(e):typeof a!="string"&&la(t).includes(e)?t[e]=a:t.setAttribute(e,a))}function na(t){return t.__attributes??(t.__attributes={[sa]:t.nodeName.includes("-"),[ia]:t.namespaceURI===qe})}var ie=new Map;function la(t){var e=ie.get(t.nodeName);if(e)return e;ie.set(t.nodeName,e=[]);for(var a,i=t,r=Element.prototype;r!==i;){a=Pe(i);for(var s in a)a[s].set&&e.push(s);i=He(i)}return e}const oa=!0,ca=async()=>({steps:[{title:"Prepararse para ducharse",duration:30,image:"/pictogramas/ducha.png"},{title:"Mojarse cabello y cuerpo",duration:3,image:"/pictogramas/mojar.png"},{title:"Poner Shampoo",duration:3,image:"/pictogramas/shampoo.png"},{title:"Lavar Pelo",duration:3,image:"/pictogramas/lavar.png"},{title:"Poner Rinse",duration:3,image:"/pictogramas/acondicionador.png"},{title:"Enjuagar Rinse",duration:3,image:"/pictogramas/lavar.png"},{title:"Enjabonar Cuerpo",duration:3,image:"/pictogramas/enjabonar-cuerpo.png"},{title:"Lavar Cuerpo",duration:3,image:"/pictogramas/lavar.png"},{title:"Lavar Cara",duration:3,image:"/pictogramas/cara.png"},{title:"Enjuague Final",duration:3,image:"/pictogramas/final.png"},{title:"Salir y Secar",duration:3,image:"/pictogramas/secarse.png"}]}),Ea=Object.freeze(Object.defineProperty({__proto__:null,load:ca,prerender:oa},Symbol.toStringTag,{value:"Module"}));var va=j('<div class="progress-bar-container svelte-koctqy"><div class="progress-bar svelte-koctqy"></div></div>'),fa=j('<p class="timer svelte-koctqy"> </p>'),ua=j("<h2> </h2> <!>",1),da=j('<div><!> <img class="svelte-koctqy"/> <div class="card-content svelte-koctqy"><!></div></div>');function ne(t,e){fe(e,!1);let a=V();Ue(()=>{q(a,new SpeechSynthesisUtterance),B(a,u(a).voice=window.speechSynthesis.getVoices().filter(c=>c.lang==="es").find(c=>c.name==="Spanish (Spain)+Andrea")),B(a,u(a).pitch=0),B(a,u(a).rate=.5),B(a,u(a).lang="es-EC")});const i=Ve();let r=U(e,"step",8),s=U(e,"isActive",8,!1),l=U(e,"isDone",8,!1),p=U(e,"hideInfoWhenActive",8,!1),v=V(r().duration),f=V();Fe(()=>{u(f)&&clearInterval(u(f))}),J(()=>T(r()),()=>{q(v,r().duration)}),J(()=>(T(s()),u(f),u(a),T(r()),u(v)),()=>{s()?(u(f)&&clearInterval(u(f)),u(a)&&B(a,u(a).text=r().title),q(f,setInterval(()=>{q(v,u(v)-1),u(v)<=0&&(clearInterval(u(f)),q(v,0),i("stepComplete"))},1e3))):u(f)&&clearInterval(u(f))}),ue(),le();var n=da();let m;var o=x(n);{var h=c=>{var A=va(),b=x(A);C(A),H(()=>ra(b,`width: ${u(v),T(r()),k(()=>u(v)/r().duration*100)??""}%`)),R(c,A)};F(o,c=>{s()&&c(h)})}var d=O(o,2),I=O(d,2),y=x(I);{var g=c=>{var A=ua(),b=$e(A);let _;var S=x(b,!0);C(b);var M=O(b,2);{var N=w=>{var L=fa(),G=x(L);C(L),H(()=>ae(G,`${u(v)??""}s`)),R(w,L)};F(M,w=>{s()&&w(N)})}H(w=>{_=Q(b,1,"svelte-koctqy",null,_,w),ae(S,(T(r()),k(()=>r().title)))},[()=>({active:s()})],P),R(c,A)};F(y,c=>{s()&&p()||c(g)})}C(I),C(n),H(c=>{m=Q(n,1,"card svelte-koctqy",null,m,c),se(d,"src",(T(r()),k(()=>r().image))),se(d,"alt",(T(r()),k(()=>r().title)))},[()=>({active:s(),done:l()})],P),R(t,n),de()}var pa=j('<meta name="description" content="A step-by-step timer for bath time"/>'),ga=j("<div><!></div>"),_a=j('<div class="page-container svelte-a0jni1"><div class="main-step-container svelte-a0jni1"><!></div> <div class="navigation-buttons svelte-a0jni1"><button class="svelte-a0jni1">Reiniciar</button> <button class="svelte-a0jni1">Anterior</button> <button class="svelte-a0jni1">Siguiente</button></div> <div class="steps-carousel svelte-a0jni1"></div></div>');function Ia(t,e){fe(e,!1);const[a,i]=ze(),r=()=>Ke(l,"$currentStepIndex",a);let s=U(e,"data",8);const l=We(0);function p(){l.update(_=>Math.min(_+1,s().steps.length-1))}function v(){l.update(_=>Math.max(_-1,0))}function f(){l.set(0)}let n=V();function m(_){if(u(n)){const S=u(n).children[_];S&&S.scrollIntoView({behavior:"smooth",block:"nearest",inline:"center"})}}J(()=>r(),()=>{m(r())}),ue(),le();var o=_a();Ge(_=>{var S=pa();Be.title="Bath Time Helper",R(_,S)});var h=x(o),d=x(h);{var I=_=>{ne(_,{get step(){return T(s()),r(),k(()=>s().steps[r()])},isActive:!0,isDone:!1,$$events:{stepComplete:p}})};F(d,_=>{T(s()),r(),k(()=>s().steps[r()])&&_(I)})}C(h);var y=O(h,2),g=x(y),c=O(g,2),A=O(c,2);C(y);var b=O(y,2);Xe(b,5,()=>(T(s()),k(()=>s().steps)),Je,(_,S,M)=>{var N=ga();let w;var L=x(N);const G=P(()=>r()===M),ge=P(()=>r()>M);ne(L,{get step(){return u(S)},get isActive(){return u(G)},get isDone(){return u(ge)},hideInfoWhenActive:!0,$$events:{stepComplete:p}}),C(N),H(_e=>w=Q(N,1,"carousel-item svelte-a0jni1",null,w,_e),[()=>({active:r()===M,done:r()>M})],P),R(_,N)}),C(b),Ye(b,_=>q(n,_),()=>u(n)),C(o),H(()=>{c.disabled=r()===0,A.disabled=(r(),T(s()),k(()=>r()===s().steps.length-1))}),K("click",g,f),K("click",c,v),K("click",A,p),R(t,o),de(),i()}export{Ia as component,Ea as universal};
